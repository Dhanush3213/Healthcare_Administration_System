{% extends 'base.html' %}
{% block script %}
function addtest(){
// Get the selected test from the dropdown
var selectedTest = document.getElementById('ctest').value;

// You can now use the selectedTest variable as needed
// For example, you can add it to a textarea or perform any other action
var testarea = document.getElementById('comment');
testarea.value += selectedTest + '\n';
}

{% endblock %}
{% block content%}
<div class="container">
    <h3>Add Patient</h3><br><br>
    <form method="post" action="">
        {% csrf_token %}
        <div class='row'>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="pid">UHID :</label>
                    <input type="text" class="form-control" id="pid" value={{ pid }} name='pid' required readonly>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="title">Title :</label>
                    <select id='title' class="select" name='title' style="
            display: block;
            width: 100%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
        ">
                        <option value="Mr">Mr</option>
                        <option value="Mrs">Mrs</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="name">Patient Name :</label>
                    <input type="test" class="form-control" id="name" name='pname' required>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="gender">Gender :</label>
                    <select id='gender' class="select" name='gender' style="
            display: block;
            width: 100%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
        ">
                        <option value='Male'>Male</option>
                        <option value="Female">Female</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="dob">DOB :</label>
                    <input type="date" class="form-control" id="dob" name='dob' required>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="age">Age :</label>
                    <input type="number" min='1' max="100" class="form-control" name='age' id="age" required>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="email">Email Id :</label>
                    <input type="email" class="form-control" id="email" name='email' required>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="mobile">Mobile :</label>
                    <input type="tel" pattern="[0-9]{10}" class="form-control" id="mobile" name='mobile' required>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="ref">RefDr :</label>
                    <select id='ref' class="select" name='refdr' style="
            display: block;
            width: 100%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
        ">
                        {% for refdr_names_key in refdr_names_keys %}

                        <p>{{ refdr_names_key.DoctorName }}</p>
                        <option value={{ refdr_names_key.DoctorName }}>{{ refdr_names_key.DoctorName }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class='col-md-3'>
                <div class="form-group">
                    <label for="test">Selected Test :</label>
                    <select id='ctest' class="select" style="
            display: block;
            width: 100%;
            height: 34px;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            color: #555;
            background-color: #fff;
            background-image: none;
            border: 1px solid #ccc;
            border-radius: 4px;
        ">
                        {% for test_name in test_name_keys %}
                        <option value='{{ test_name.TestName }}'>{{ test_name.TestName }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-md-3"><br><button class='btn btn-primary btn-sm' id='add' onclick="addtest()">Add</button></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class='col-md-3'>
                <div class="form-group">
                   
                    <br><div class="form-group">
                        <textarea class="form-control" rows="5" id="comment" name='test'></textarea>
                      </div>
                </div>
            </div>
        </div>
        <center><input type='submit' class="btn btn-primary btn-large" value="save"></center>
    </form>
</div>



{% endblock %}